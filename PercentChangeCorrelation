# Argon's Yeild Correlation (Percent Change Correlation)
# r is the Pearson's Correlation
# r = covariance of variables divided by product of their standard deviations

# Covariance(IDataHolder data1, IDataHolder data2, int length);
# Correlation(IDataHolder data1, IDataHolder data2, int length);

# Correlation(%chg current symbol, %chg comparison symbol, int length);

script YeildCorrelation {
  input data1 = close;
  input data2 = close;
  input length = 12;

input CorrelatedSymbol = "SPX";
input Correlationlength = 10;
input Yeildlength = 1;

plot YeldCorrelation = Correlation(

script correlationTS {
    input data1 = close;
    input data2 = close;
    input length = 12;
    plot CorrelationTS = Covariance(data1, data2, length) / ( StDev(data1, length) * StDev(data2, length) );
}

declare lower;
input length = 10;
input secondSymbol = "SPX";
plot Correlation1 = Correlation(close, close(secondSymbol), length);
plot Correlation2 = CorrelationTS(close, close(secondSymbol), length);
